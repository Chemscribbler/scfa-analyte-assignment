"0",""
"0","#Making a calibration curve, in this case I filter for a specific curve (CurveID %in% (x)) in csae multiple curves are loaded."
"0","curvedata <- compressed_assigned_data %>% "
"0","  filter(CurveID %in% c(17),grepl(""M"",substr(Well,1,1)), Area > 5) %>% "
"0","  #Concentrations are stoBlue in sampleIDs, so I'm extracting that information"
"0","  mutate("
"0","      Conc = as.numeric(substr(Well,2,10))"
"0","    ) %>% "
"0","  filter(!is.na(Analyte)) %>% "
"0","  group_by(CurveID,ColID,Analyte) %>% "
"0","  nest() %>%"
"0","  #in analytical chemistry convention this should be Area ~ Concentration, but when I've done it that way it breaks the code"
"0","  mutate(fit = map(data, ~lm(Conc ~ Area, data = ., weights = 1/(Conc)^2))) %>% "
"0","  select(-data)"
"0",""
"0","#This is a just a data quality check"
"0","curvedata %>% "
"0","  mutate(stats = map(fit,tidy)) %>% "
"0","  unnest(stats) %>% "
"0","  filter(term == ""Area"", Analyte %in% c(""AA"",""PA"",""BA"")) %>% "
"0","  mutate(Slope = 1/estimate)"
